<?xml version="1.0" encoding="utf-8" ?>
<local:LaceupContentPage xmlns:local="clr-namespace:LaceupMigration.Views" xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                         xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                         xmlns:vm="clr-namespace:LaceupMigration.ViewModels"
                         x:Class="LaceupMigration.Views.ConfigurationPage"
                         Shell.TabBarIsVisible="False"
                         Title="Configuration">
    <local:LaceupContentPage.ToolbarItems>
        <ToolbarItem Text="Save" 
                     Command="{Binding SaveCommand}" 
                     Order="Primary" 
                     Priority="0" />
    </local:LaceupContentPage.ToolbarItems>
    <ScrollView>
        <VerticalStackLayout Spacing="0">
            <!-- Version Section -->
            <Label Text="{Binding Version, StringFormat='Version: {0}'}"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="#017CBA"
                   Padding="20,20,20,10"
                   BackgroundColor="#E3F2FD" />

            <!-- Company ID, Salesman ID, Name Section (Light Blue Background) -->
            <VerticalStackLayout Spacing="12" 
                               Padding="20,15,20,20"
                               BackgroundColor="#E3F2FD">
                <!-- Company ID with + button -->
                <Grid ColumnDefinitions="Auto,*,Auto" 
                      ColumnSpacing="10"
                      VerticalOptions="Center">
                    <Label Text="Company ID:"
                           FontSize="16"
                           TextColor="Black"
                           VerticalOptions="Center"
                           Grid.Column="0" />
                    <Entry Text="{Binding Port}"
                           FontSize="16"
                           BackgroundColor="#E3F2FD"
                           Grid.Column="1" />
                    <Button Text="+"
                           Command="{Binding ShowConnectionSettingsCommand}"
                           BackgroundColor="Transparent"
                           TextColor="#017CBA"
                           BorderColor="#017CBA"
                           BorderWidth="2"
                           FontSize="18"
                           FontAttributes="Bold"
                           WidthRequest="35"
                           HeightRequest="35"
                           CornerRadius="35"
                           Padding="0"
                           Grid.Column="2" />
                </Grid>

                <!-- Salesman ID -->
                <Grid ColumnDefinitions="Auto,*" 
                      ColumnSpacing="10"
                      VerticalOptions="Center">
                    <Label Text="Salesman ID:"
                           FontSize="16"
                           TextColor="Black"
                           VerticalOptions="Center"
                           Grid.Column="0" />
                    <Entry Text="{Binding VendorId}"
                           FontSize="16"
                           BackgroundColor="#E3F2FD"
                           IsEnabled="{Binding CanChangeSalesmanId}"
                           Keyboard="Numeric"
                           Grid.Column="1" />
                </Grid>

                <!-- Name -->
                <Grid ColumnDefinitions="Auto,*" 
                      ColumnSpacing="10"
                      VerticalOptions="Center">
                    <Label Text="Name:"
                           FontSize="16"
                           TextColor="Black"
                           VerticalOptions="Center"
                           Grid.Column="0" />
                    <Entry Text="{Binding VendorName}"
                           FontSize="16"
                           BackgroundColor="#E3F2FD"
                           IsEnabled="{Binding CanChangeSalesmanId}"
                           Grid.Column="1" />
                </Grid>
            </VerticalStackLayout>

            <!-- Actions Section (White Background) -->
            <VerticalStackLayout Spacing="0" 
                               Padding="0,10,0,20"
                               BackgroundColor="White">
                <Button Text="Configure Printer"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding SetupPrinterCommand}"
                        IsVisible="{Binding ShowPrinterButton}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Select Scanner"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding SetupScannerCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Select Logo"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding SelectLogoCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Reset Password"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ResetPasswordCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="See Log File"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding SeeLogCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Send Log File"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding SendLogCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Export Data"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding ExportDataCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Restore Data"
                        Style="{StaticResource PrimaryButton}"
                        Command="{Binding RestoreDataCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />

                <Button Text="Clear Data"
                        Style="{StaticResource DeleteButton}"
                        Command="{Binding CleanDataCommand}"
                        FontSize="16"
                        Padding="16,12"
                        Margin="20,5" />
            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</local:LaceupContentPage>
