<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns:local="clr-namespace:LaceupMigration.Views" xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 x:Class="LaceupMigration.LoginConfigPage"
			 Shell.NavBarIsVisible="False"
			 Shell.BackButtonBehavior="{x:Null}">
	<Grid x:Name="RootGrid">
		<ScrollView>
			<VerticalStackLayout Padding="24" >
				<Image Source="icon144x144.png"
					   WidthRequest="100"
					   HeightRequest="100"
					   HorizontalOptions="Center"
					   Margin="0,50,0,30" />

				<Label Text="Welcome To LaceUp"
					   HorizontalOptions="Center"
					   FontAttributes="Bold"
					   TextColor="{DynamicResource PrimaryTextColor}"
					   FontSize="20"
					   Margin="0,0,0,0" />

				<Label HorizontalOptions="Center"
					   FontSize="14"
					   Margin="0,0,0,15">
					<Label.FormattedText>
						<FormattedString>
							<Span Text="Support Contact: " />
							<Span Text="1(786) 437-4380"
								  TextDecorations="Underline"
								  TextColor="{StaticResource colorLaceupDark}">
								<Span.GestureRecognizers>
									<TapGestureRecognizer Command="{Binding SupportContactCommand}" />
								</Span.GestureRecognizers>
							</Span>
						</FormattedString>
					</Label.FormattedText>
				</Label>

				<Grid ColumnDefinitions="*,*"
					  IsVisible="{Binding IsBusy}">
					<ActivityIndicator Grid.ColumnSpan="2" IsRunning="True" IsVisible="True" />
				</Grid>

                <Grid ColumnDefinitions="*" RowDefinitions="Auto,Auto,Auto,Auto,Auto"
					  WidthRequest="300"
					  HorizontalOptions="Center">
                    <Entry Grid.Row="0"
						   Text="{Binding Field1}"
						   Placeholder="Salesman ID"
						   HorizontalTextAlignment="Center" />
					<Entry Grid.Row="1"
						   Text="{Binding Field2}"
						   Keyboard="Numeric"
						   HorizontalTextAlignment="Center" />
					<Grid Grid.Row="2" RowDefinitions="Auto,Auto" IsVisible="False">
						<Entry Grid.Row="0"
							   Text="{Binding Truck}"
							   HorizontalTextAlignment="Center"
							   TextChanged="OnTruckTextChanged" />
						<Border Grid.Row="1"
								IsVisible="{Binding ShowSuggestions}"
								StrokeThickness="1"
								Stroke="LightGray"
								BackgroundColor="White"
								Margin="0,-2,0,0"
								MaximumHeightRequest="150">
							<CollectionView ItemsSource="{Binding FilteredTruckSuggestions}"
											BackgroundColor="Transparent"
											SelectionMode="None">
								<CollectionView.ItemTemplate>
									<DataTemplate>
										<Grid Padding="10,8">
											<Label Text="{Binding DisplayText}"
												   FontSize="14"
												   TextColor="Black">
												<Label.GestureRecognizers>
													<TapGestureRecognizer Tapped="OnSuggestionTapped" CommandParameter="{Binding .}" />
												</Label.GestureRecognizers>
											</Label>
										</Grid>
									</DataTemplate>
								</CollectionView.ItemTemplate>
							</CollectionView>
						</Border>
					</Grid>
					<Button Grid.Row="3"
							Text="Sign In"
							Margin="0,10,0,0" 
							Command="{Binding SignInCommand}"
							BackgroundColor="{StaticResource colorLaceupDark}"
							TextColor="White" />
				</Grid>

                <Label Text="Configuration"
				   HorizontalOptions="Center"
				   TextColor="{StaticResource colorLaceupDark}"
                   FontAttributes="Bold"
				   Margin="0,15,0,0">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding ConfigurationCommand}" />
                    </Label.GestureRecognizers>
                </Label>
                
                <Label Text="Need help?"
					   HorizontalOptions="Center"
					   TextColor="{StaticResource colorLaceupDark}"
                       FontAttributes="Bold"
					   Margin="0,15,0,0">
					<Label.GestureRecognizers>
						<TapGestureRecognizer Command="{Binding NeedHelpCommand}" />
					</Label.GestureRecognizers>
				</Label>
			</VerticalStackLayout>
		</ScrollView>
	</Grid>
</ContentPage>


