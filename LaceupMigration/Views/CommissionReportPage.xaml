<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:LaceupMigration.ViewModels"
             x:Class="LaceupMigration.Views.CommissionReportPage"
             Shell.TabBarIsVisible="False"
             Title="Commission Report">
    <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,*" RowSpacing="16" Padding="16">
        <Grid Grid.Row="0" ColumnDefinitions="*,*" ColumnSpacing="8">
            <Button Grid.Column="0"
                    Text="{Binding DateFromText, StringFormat='From: {0}'}"
                    Command="{Binding SelectDateFromCommand}"
                    IsEnabled="{Binding DateRangeEnabled}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White" />
            <Button Grid.Column="1"
                    Text="{Binding DateToText, StringFormat='To: {0}'}"
                    Command="{Binding SelectDateToCommand}"
                    IsEnabled="{Binding DateRangeEnabled}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White" />
        </Grid>

        <VerticalStackLayout Grid.Row="1" Spacing="8">
            <CheckBox IsChecked="{Binding ShowDetails}" />
            <Label Text="Show Details" VerticalOptions="Center" />
            <CheckBox IsChecked="{Binding UseCogs}" />
            <Label Text="Use COGS" VerticalOptions="Center" />
            <CheckBox IsChecked="{Binding ExcludeTaxes}" />
            <Label Text="Exclude Taxes" VerticalOptions="Center" />
        </VerticalStackLayout>

        <HorizontalStackLayout Grid.Row="2" Spacing="8">
            <Button Text="Run Report"
                    Command="{Binding RunReportCommand}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    HorizontalOptions="FillAndExpand" />
            <Button Text="Send by Email"
                    Command="{Binding SendByEmailCommand}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    HorizontalOptions="FillAndExpand" />
        </HorizontalStackLayout>

        <ActivityIndicator Grid.Row="3"
                           IsRunning="{Binding IsLoading}"
                           IsVisible="{Binding IsLoading}"
                           HeightRequest="50" />
    </Grid>
</ContentPage>

